$(document).ready(function(){function e(e){var o=e.getBoundingClientRect(),t=o.left>=0&&o.left<=$(window).width(),a=o.top>=0&&o.top<=$(window).height(),s=o.right>=0&&o.right<=$(window).width(),i=o.bottom>=0&&o.bottom<=$(window).height();return{top:a,left:t,right:s,bottom:i,all:t&&a&&s&&i}}var o=$(".getdate").datepicker({minDate:new Date,autoClose:!0,onHide:function(e){e.update("position","right center")},onShow:function(o,t){if(!t){var a=!1;$.each(["right center","right bottom","right top","top center","bottom center"],function(t,s){if(!a){o.update("position",s);var i=e(o.$datepicker[0]);i.all&&(a=!0)}})}}}).data("datepicker");$(".modal-wrap").on("scroll",function(){o.update()}),$(".history__el-head").click(function(){$(this).toggleClass("history__el-head--active"),$(this).closest(".history__el").find(".history__el-cont").slideToggle()}),$(".select-beauty").niceSelect(),$(".add-ingr__el").click(function(){$(this).hasClass("add-ingr__el--active")||$(this).addClass("add-ingr__el--active"),console.log("move")}),$(".add-ingr-clear").click(function(){$(".add-ingr__el").removeClass("add-ingr__el--active")}),$(".incr__minus").click(function(e){var o=$(this).parent().find(".incr__val span"),t=parseInt(o.html())-1;$(this).hasClass("incr--one")?t<1&&($(this).closest(".add-ingr__el").removeClass("add-ingr__el--active"),$(this).closest(".product-footer").find(".product-add").show(),$(this).closest(".product-footer").toggleClass("product-footer-numb"),$(this).closest(".product-footer").find(".incr__val span").html(1),t=1):t<1&&(t=0),o.html(t),e.stopPropagation()}),$(".incr__plus").click(function(){var e=$(this).parent().find(".incr__val span"),o=parseInt(e.html())+1;o=o>100?100:o,e.html(o)}),$(".header-menu").click(function(e){$(".basket-wrap").removeClass("bounce-show"),$(".header-cart").removeClass("header-cart--open"),$(".header-menu-sub-wrap").toggleClass("bounce-show"),$(".header-menu").toggleClass("header-menu--open"),e.stopPropagation()}),$(".header-menu-sub-wrap").on("click",function(e){e.stopPropagation()}),$(document).on("click",function(){$(".header-menu").removeClass("header-menu--open"),$(".header-menu-sub-wrap").removeClass("bounce-show")}),$(".cart-wrap").hover(function(e){$(".header-menu-sub-wrap").removeClass("bounce-show"),$(".header-menu").removeClass("header-menu--open"),$(window).width()<769,$(".basket-wrap").toggleClass("bounce-show"),$(".cart-wrap").toggleClass("header-cart--open"),e.stopPropagation()}),$(".basket-wrap").on("click",function(e){e.stopPropagation()}),$(document).on("click",function(){$(".cart-wrap").removeClass("header-cart--open"),$(".basket-wrap").removeClass("bounce-show"),$("body").removeClass("modal-open"),$(".nav-wrap").slideUp(),$(".nav-toggle").removeClass("nav-toggle--active")}),$(".nav").click(function(e){$(".nav-wrap").slideToggle(),$(".nav-toggle").toggleClass("nav-toggle--active"),e.stopPropagation()}),$(".nav-wrap").click(function(e){e.stopPropagation()});var t;$(".basket__el .incr__nav").click(function(){t=1*$(this).closest(".incr").find(".incr__val span").html(),0==t&&($(this).closest(".basket__el").remove(),cartSliderItem())});var a=150;$(window).scroll(function(){var e=$(this).scrollTop();if(e>=a){var o=$(".header-menu-wrap").height();$(".header").addClass("shrink"),$("body").css("paddingTop",o)}else $(".header").removeClass("shrink"),$("body").css("paddingTop",0)}),$(".main-slider").slick({slidesToShow:1,speed:500,autoplay:!0,arrows:!1,dots:!0,customPaging:function(e,o){return'<span class="dot"></span>'}}),$(".basket-add").slick({speed:500,autoplay:!1,arrows:!0,dots:!1,slidesToShow:1.5,infinite:!1,rows:0,prevArrow:'<svg class="slick-prev slick-arrow"><use xlink:href="#arrow-left"></use></svg>',nextArrow:'<svg class="slick-next slick-arrow"><use xlink:href="#arrow-right"></use></svg>'}),$(".product-get").click(function(){$(this).closest(".product-footer").find(".product-get").hide(),$(this).closest(".product-footer").find(".product-add").show()}),$(".product-add").click(function(){$(this).closest(".product-footer").find(".product-add").hide(),$(this).closest(".product-footer").toggleClass("product-footer-numb")}),$(".toggle-cart-animate").add(".incr__nav").click(function(){$(".cart").addClass("animate-basket"),setTimeout(function(){$(".cart").removeClass("animate-basket")},400)});var s;$(".product-incr .incr__nav").click(function(){s=1*$(this).closest(".incr").find(".incr__val span").html(),console.log(),0==s&&($(this).closest(".product-footer").find(".product-add").show(),$(this).closest(".product-footer").toggleClass("product-footer-numb"),$(this).closest(".incr").find(".incr__val span").html(1))}),$(".product-el").hover(function(){$(this).addClass("product-el--hover"),$(this).closest(".product-el").find(".product__text").addClass("hidden-block"),$(this).closest(".product-el").find(".item-ingr").removeClass("hidden-block")},function(){$(this).removeClass("product-el--hover"),$(this).closest(".product-el").find(".product__text").removeClass("hidden-block"),$(this).closest(".product-el").find(".item-ingr").addClass("hidden-block")}),$(".sale-slider").slick({slidesToShow:1,speed:500,autoplay:!0,arrows:!1,dots:!0,customPaging:function(e,o){return'<span class="dot"></span>'}});var i={isModalShow:!1,scrollPos:0},l=function(){$(".modal-layer").hasClass("modal-layer-show")||($(".modal-layer").addClass("modal-layer-show"),i.scrollPos=$(window).scrollTop(),$("body").css({overflow:"hidden",overflowY:"hidden",top:-i.scrollPos,width:"100%"})),i.isModalShow=!0},r=function(){$(".modal-layer").removeClass("modal-layer-show"),$("body").css({overflow:"",position:"",top:i.scrollPos}),$(window).scrollTop(i.scrollPos),$(".modal").removeClass("modal__show"),i.isModalShow=!1},n=function(e){l(),$(".modal").each(function(){$(this).data("modal")===e?$(this).addClass("modal__show"):$(this).removeClass("modal__show")});var o=$(window).height();$(".modal-filter").height(o)};$(".modal-get").click(function(){var e=$(this).data("modal");n(e)}),$(" .modal-close , .hide-modal").click(function(){r()}),$(".input-animate").each(function(){var e=$(this),o="<span class='input-placeholder-val'>"+e.data("input")+"</span>";e.parent().append(o)}),$(".input-animate").on("input",function(e){$(e.currentTarget).attr("data-empty",!e.currentTarget.value)}),$(".input-placeholder-val").click(function(){$(this).parent().find(".input-animate").focus()}),$(".order-form__tab-el").click(function(){var e=$(this).data("tab");"self"==e?$(".order-form__border-el").addClass("order-form__border-el--right"):$(".order-form__border-el").removeClass("order-form__border-el--right"),$(".order-form__tab-el").removeClass("order-form__tab-el--active"),$(this).addClass("order-form__tab-el--active"),$(".order-form__tab-container").each(function(){$(this).data("tab")==e?$(this).addClass("order-form__tab-container-active"):$(this).removeClass("order-form__tab-container-active")})}),$(".card-type__el").click(function(){console.log(1),$(".card-type__el").removeClass("card-type__el--active"),$(this).addClass("card-type__el--active")}),$(".head-toggle--open").click(function(){}),$(".head-toggle").click(function(e){e.stopPropagation(),$(this).toggleClass("head-toggle--open"),$(".slide-menu").toggleClass("slide-menu--open")}),$(".slide-menu").on("click",function(e){e.stopPropagation()}),$(document).on("click",function(){$(".head-wrap").removeClass("head--up"),$(".head-toggle").removeClass("head-toggle--open"),$(".slide-menu").removeClass("slide-menu--open"),console.log(i.isModalShow),0==i.isModalShow&&$("body").removeClass("body-fix")}),$(".size__el").click(function(){$(this).closest(".size").find(".size__el").removeClass("size__el--active"),$(this).addClass("size__el--active")}),$(".duff__el").click(function(){$(this).closest(".duff").find(".duff__el").removeClass("duff__el--active"),$(this).addClass("duff__el--active")}),$(".footer-info__map").click(function(){$(this).toggleClass("footer-info__map--active"),$(".footer-map-wrap").slideToggle()}),$(".like-el").click(function(){$(".like-el").removeClass("like-el--active"),$(this).addClass("like-el--active")}),$(".scroll").mCustomScrollbar({autoDraggerLength:!1,theme:"dark",mouseWheel:{preventDefault:!0}}),$(".nav-cat").click(function(){$(this).find(".nav-wrap-item").addClass("nav-wrap-item--active")}),$(".nav-item-head").click(function(e){$(this).closest(".nav-wrap-item").removeClass("nav-wrap-item--active"),e.stopPropagation()}),$(".slide-nav__el-wrap").click(function(){$(this).toggleClass("slide-nav__el-wrap--active"),$(this).closest(".slide-nav__el").find(".slide-nav-sub").slideToggle()})});