$(document).ready(function(){function e(e){var o=e.getBoundingClientRect(),t=o.left>=0&&o.left<=$(window).width(),a=o.top>=0&&o.top<=$(window).height(),s=o.right>=0&&o.right<=$(window).width(),i=o.bottom>=0&&o.bottom<=$(window).height();return{top:a,left:t,right:s,bottom:i,all:t&&a&&s&&i}}var o=$(".getdate").datepicker({minDate:new Date,autoClose:!0,onHide:function(e){e.update("position","right center")},onShow:function(o,t){if(!t){var a=!1;$.each(["right center","right bottom","right top","top center","bottom center"],function(t,s){if(!a){o.update("position",s);var i=e(o.$datepicker[0]);i.all&&(a=!0)}})}}}).data("datepicker");$(".modal-wrap").on("scroll",function(){o.update()}),$(".history__el-head").click(function(){$(this).toggleClass("history__el-head--active"),$(this).closest(".history__el").find(".history__el-cont").slideToggle()}),$(".select-beauty").niceSelect();var t=function(){$(".basket-container").not(".slick-initialized").slick({slidesToShow:2,autoplay:!1,speed:500,vertical:!0,arrows:!0,prevArrow:$(".header__sub-arrow-up"),nextArrow:$(".header__sub-arrow-down"),verticalSwiping:!0,infinite:!1,responsive:[{breakpoint:768,settings:"unslick"}]})};t(),$(".add-ingr__el").click(function(){$(this).hasClass("add-ingr__el--active")||$(this).addClass("add-ingr__el--active"),console.log("move")}),$(".add-ingr-clear").click(function(){$(".add-ingr__el").removeClass("add-ingr__el--active")}),$(".incr__minus").click(function(e){var o=$(this).parent().find(".incr__val span"),t=parseInt(o.html())-1;$(this).hasClass("incr--one")?t<1&&($(this).closest(".add-ingr__el").removeClass("add-ingr__el--active"),$(this).closest(".product-footer").find(".product-add").show(),$(this).closest(".product-footer").toggleClass("product-footer-numb"),$(this).closest(".product-footer").find(".incr__val span").html(1),t=1):t<1&&(t=0),o.html(t),e.stopPropagation()}),$(".incr__plus").click(function(){var e=$(this).parent().find(".incr__val span"),o=parseInt(e.html())+1;o=o>100?100:o,e.html(o)}),$(".header-menu").click(function(e){$(".basket-wrap").removeClass("bounce-show"),$(".header-cart").removeClass("header-cart--open"),$(".header-menu-sub-wrap").toggleClass("bounce-show"),$(".header-menu").toggleClass("header-menu--open"),e.stopPropagation()}),$(".header-menu-sub-wrap").on("click",function(e){e.stopPropagation()}),$(document).on("click",function(){$(".header-menu").removeClass("header-menu--open"),$(".header-menu-sub-wrap").removeClass("bounce-show")}),$(".cart-wrap").click(function(e){$(".header-menu-sub-wrap").removeClass("bounce-show"),$(".header-menu").removeClass("header-menu--open"),$(window).width()<769,$(".basket-wrap").toggleClass("bounce-show"),$(".cart-wrap").toggleClass("header-cart--open"),e.stopPropagation()}),$(".basket-wrap").on("click",function(e){e.stopPropagation()}),$(document).on("click",function(){$(".cart-wrap").removeClass("header-cart--open"),$(".basket-wrap").removeClass("bounce-show"),$("body").removeClass("modal-open")});var a=function(){$(".basket-container .basket__el").length?($(".basket-empty").hide(),$(".basket-footer").show(),$(".basket-container").show()):($(".basket-empty").show(),$(".basket-footer").hide(),$(".basket-container").hide()),$(".basket-container .basket__el").length<3?$(".slick-arrow").hide():$(".slick-arrow").show()};$(".basket__delete").click(function(){$(this).closest(".basket__el").remove(),a()});var s;$(".basket__el .incr__nav").click(function(){s=1*$(this).closest(".incr").find(".incr__val span").html(),0==s&&($(this).closest(".basket__el").remove(),a())}),$(".js-basket-clear").click(function(){$(".basket-container .basket__el").remove(),$(".basket-container .slick-slide").remove(),a()});var i=450;$(window).scroll(function(){var e=$(this).scrollTop();if(e>=i){var o=$(".header-menu-wrap").height();$(".header").addClass("shrink"),$("body").css("paddingTop",o)}else $(".header").removeClass("shrink"),$("body").css("paddingTop",0)}),$(".main-slider").slick({slidesToShow:1,speed:500,autoplay:!0,arrows:!1,dots:!0,customPaging:function(e,o){return'<span class="dot"></span>'}}),$(".product-get").click(function(){$(this).closest(".product-footer").find(".product-get").hide(),$(this).closest(".product-footer").find(".product-add").show()}),$(".product-add").click(function(){$(this).closest(".product-footer").find(".product-add").hide(),$(this).closest(".product-footer").toggleClass("product-footer-numb")}),$(".toggle-cart-animate").add(".incr__nav").click(function(){$(".cart").addClass("animate-basket"),setTimeout(function(){$(".cart").removeClass("animate-basket")},400)});var r;$(".product-incr .incr__nav").click(function(){r=1*$(this).closest(".incr").find(".incr__val span").html(),console.log(),0==r&&($(this).closest(".product-footer").find(".product-add").show(),$(this).closest(".product-footer").toggleClass("product-footer-numb"),$(this).closest(".incr").find(".incr__val span").html(1))}),$(".product-el").hover(function(){$(this).addClass("product-el--hover")},function(){$(this).removeClass("product-el--hover")}),$(".sale-slider").slick({slidesToShow:1,speed:500,autoplay:!0,arrows:!1,dots:!0,customPaging:function(e,o){return'<span class="dot"></span>'}});var n={isModalShow:!1,scrollPos:0},l=function(){$(".modal-layer").hasClass("modal-layer-show")||($(".modal-layer").addClass("modal-layer-show"),n.scrollPos=$(window).scrollTop(),$("body").css({overflow:"hidden",overflowY:"hidden",top:-n.scrollPos,width:"100%"})),n.isModalShow=!0},c=function(){$(".modal-layer").removeClass("modal-layer-show"),$("body").css({overflow:"",position:"",top:n.scrollPos}),$(window).scrollTop(n.scrollPos),$(".modal").removeClass("modal__show"),n.isModalShow=!1},d=function(e){l(),$(".modal").each(function(){$(this).data("modal")===e?$(this).addClass("modal__show"):$(this).removeClass("modal__show")});var o=$(window).height();$(".modal-filter").height(o)};$(".modal-get").click(function(){var e=$(this).data("modal");d(e)}),$(" .modal-close , .hide-modal").click(function(){c()}),$(".input-animate").each(function(){var e=$(this),o="<span class='input-placeholder-val'>"+e.data("input")+"</span>";e.parent().append(o)}),$(".input-animate").on("input",function(e){$(e.currentTarget).attr("data-empty",!e.currentTarget.value)}),$(".input-placeholder-val").click(function(){$(this).parent().find(".input-animate").focus()}),$(".order-form__tab-el").click(function(){var e=$(this).data("tab");"self"==e?$(".order-form__border-el").addClass("order-form__border-el--right"):$(".order-form__border-el").removeClass("order-form__border-el--right"),$(".order-form__tab-el").removeClass("order-form__tab-el--active"),$(this).addClass("order-form__tab-el--active"),$(".order-form__tab-container").each(function(){$(this).data("tab")==e?$(this).addClass("order-form__tab-container-active"):$(this).removeClass("order-form__tab-container-active")})}),$(".card-type__el").click(function(){console.log(1),$(".card-type__el").removeClass("card-type__el--active"),$(this).addClass("card-type__el--active")}),$(window).resize(function(){$(window).width()>769&&t()}),$(".head-toggle--open").click(function(){}),$(".head-toggle").click(function(e){e.stopPropagation(),$(this).toggleClass("head-toggle--open"),$(".slide-menu").toggleClass("slide-menu--open")}),$(".slide-menu").on("click",function(e){e.stopPropagation()}),$(document).on("click",function(){$(".head-wrap").removeClass("head--up"),$(".head-toggle").removeClass("head-toggle--open"),$(".slide-menu").removeClass("slide-menu--open"),console.log(n.isModalShow),0==n.isModalShow&&$("body").removeClass("body-fix")}),$(".size__el").click(function(){$(this).closest(".size").find(".size__el").removeClass("size__el--active"),$(this).addClass("size__el--active")}),$(".duff__el").click(function(){$(this).closest(".duff").find(".duff__el").removeClass("duff__el--active"),$(this).addClass("duff__el--active")}),$(".footer-info__map").click(function(){$(this).toggleClass("footer-info__map--active"),$(".footer-map-wrap").slideToggle()}),$(".like-el").click(function(){$(".like-el").removeClass("like-el--active"),$(this).addClass("like-el--active")}),$(".scroll").perfectScrollbar({wheelSpeed:1.2})});